# Go + React - Na Pr√°tica
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![NodeJS](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![Golang](https://img.shields.io/badge/Go-00ADD8?style=for-the-badge&logo=go&logoColor=white)
![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)

<p align="left">
  <a href="#-descri√ß√£o">Descri√ß√£o</a> ‚Ä¢
  <a href="#-sobre-a-rocketseat">Sobre a Rocketseat</a> ‚Ä¢
  <a href="#%EF%B8%8F-tecnologias">Tecnologias</a> ‚Ä¢
  <a href="#-pr√©-requisitos">Pr√©-requisitos</a> ‚Ä¢
  <a href="#-instala√ß√£o-e-uso---api-backend">Instala√ß√£o e Uso - API (Backend)</a> ‚Ä¢
  <a href="#%EF%B8%8F-utiliza√ß√£o-da-api">Utiliza√ß√£o da API</a> ‚Ä¢
  <a href="#-instala√ß√£o-e-uso---web-frontend">Instala√ß√£o e Uso - WEB (Frontend)</a> ‚Ä¢
  <a href="#-licen√ßa">Licen√ßa</a> ‚Ä¢
  <a href="#-agradecimentos">Agradecimentos</a>
</p>

---
## üöÄ Descri√ß√£o

Documenta√ß√£o do projeto desenvolvido durante a Semana Tech da **[Rocketseat](https://app.rocketseat.com.br/)** que ocorreu entre os dias 5 e 8 de agosto de 2024. Constru√ß√£o de um app de sala de **AMA (Ask me anything)** com as tecnologias mais utilizadas no mercado.

![CreateRoom](https://github.com/user-attachments/assets/2cbed970-5b3e-42a8-b7e0-f7bd0efe8277)

![CreateMessage](https://github.com/user-attachments/assets/597b1570-3588-443a-b76f-a95abfc962fb)

1. **Aplica√ß√£o Front-end**: Respons√°vel pela interface com o usu√°rio, esta parte permite que os usu√°rios interajam com a aplica√ß√£o de forma intuitiva e amig√°vel. [Reposit√≥rio original no Github](https://github.com/rocketseat-education/semana-tech-01-go-react-web)

2. **Aplica√ß√£o Back-end**: Esta parte gerencia os dados da aplica√ß√£o, possibilitando a realiza√ß√£o de opera√ß√µes de CRUD (Create, Read, Update, Delete) por meio de uma API, garantindo assim a integridade e seguran√ßa dos dados. [Reposit√≥rio original no Github](https://github.com/rocketseat-education/semana-tech-01-go-react-server)

3. **Design no Figma**: Todo o design da interface do usu√°rio foi planejado e prototipado utilizando o **[Figma](https://www.figma.com/)**, uma ferramenta de design colaborativo que facilita a cria√ß√£o de interfaces modernas e eficientes. Voc√™ pode acessar o prot√≥tipo do design utilizado para este projeto atrav√©s do [link para o Figma](https://www.figma.com/design/1o5ggNn1ZTraF2TRX3VAMS/AMA---Ask-me-anything?node-id=0-1&t=hhgtASVcgBW6iZvs-1).

## üöÄ Sobre a Rocketseat

A **[Rocketseat](https://app.rocketseat.com.br/)** √© uma plataforma de *Lifelong Learning* (Educa√ß√£o Continuada) voltada para programa√ß√£o, que oferece um percurso cont√≠nuo de aprendizado para desenvolvedores em diversos n√≠veis. A plataforma permite que os usu√°rios comecem a aprender programa√ß√£o, consolidem seus conhecimentos e se especializem em diferentes tecnologias.

Com uma grade curricular alinhada √†s demandas do mercado e um m√©todo de ensino estruturado, a Rocketseat busca preparar profissionais para acessar oportunidades no setor de tecnologia.

## üõ†Ô∏è Tecnologias

Este projeto foi desenvolvido utilizando um conjunto de tecnologias modernas e poderosas que contribuem para a constru√ß√£o de uma aplica√ß√£o client servidor robusta e eficiente:

- **Node.js**: Um ambiente de execu√ß√£o JavaScript que permite a cria√ß√£o de aplicativos escal√°veis do lado do servidor.
- **React**: Uma biblioteca JavaScript para constru√ß√£o de interfaces de usu√°rio, conhecida por sua abordagem declarativa, baseada em componentes, que facilita o desenvolvimento de interfaces din√¢micas e reativas.
- **TypeScript**: Um superset do JavaScript que adiciona tipagem est√°tica opcional, permitindo um desenvolvimento mais seguro e manuten√ß√£o facilitada em aplica√ß√µes de m√©dio e grande porte.
- **Golang (Go)**: Uma linguagem de programa√ß√£o moderna, eficiente e compilada, conhecida por sua simplicidade e desempenho, especialmente adequada para sistemas distribu√≠dos e aplicativos de alto desempenho.
- **Tern**: Uma ferramenta para gerenciamento de migra√ß√µes de banco de dados que simplifica a vers√£o e o controle das altera√ß√µes em esquemas de banco de dados, garantindo que as atualiza√ß√µes sejam aplicadas de maneira ordenada e previs√≠vel.
- **PostgreSQL**: Um sistema de gerenciamento de banco de dados relacional de c√≥digo aberto e poderoso, amplamente utilizado em projetos web para armazenamento seguro e eficiente de dados.
- **PGAdmin**: Uma ferramenta de administra√ß√£o e desenvolvimento para bancos de dados PostgreSQL, que oferece uma interface gr√°fica amig√°vel para gerenciamento de servidores, bancos de dados, tabelas e outras funcionalidades relacionadas ao PostgreSQL.
- **Docker**: Uma plataforma de cont√™ineres que facilita a cria√ß√£o, implanta√ß√£o e execu√ß√£o de aplica√ß√µes em ambientes isolados, garantindo consist√™ncia e portabilidade entre diferentes ambientes de desenvolvimento e produ√ß√£o.

## üíª Pr√©-requisitos

Antes de iniciar, voc√™ precisar√° ter as seguintes ferramentas instaladas em sua m√°quina:

- **[Git](https://git-scm.com/):** Utilizado para clonar o reposit√≥rio e trabalhar com controle de vers√£o.
- **[Node.js](https://nodejs.org/):** Necess√°rio para executar o ambiente de desenvolvimento JavaScript. Fa√ßa o download e siga as instru√ß√µes de instala√ß√£o para o seu sistema operacional.
- **[Golang (Go)](https://golang.org/):** Para compilar e executar componentes do backend desenvolvidos em Go. Siga as instru√ß√µes de instala√ß√£o de acordo com o seu sistema operacional.
- **[Docker](https://www.docker.com/):** Necess√°rio para rodar o ambiente de desenvolvimento, incluindo o PostgreSQL, dentro de cont√™ineres.

Al√©m disso, voc√™ precisar√° de um editor de c√≥digo de sua prefer√™ncia, como [Visual Studio Code](https://code.visualstudio.com/).

## üîß Instala√ß√£o e Uso - API (backend)

1. **Clonagem do reposit√≥rio:** Clone este reposit√≥rio para o seu ambiente local usando o comando:
   ```
   git clone https://github.com/prpires66/tech-go-react.git
   ```
2. **Configura√ß√£o do ambiente da API:** Antes de executar a API, certifique-se de configurar as seguintes vari√°veis de ambiente:
- **`API_SERVER_HOST`:** Endere√ßo do servidor onde a API estar√° dispon√≠vel. O valor padr√£o √© `"localhost"`.
- **`API_SERVER_PORT`:** Porta onde a API estar√° dispon√≠vel. O valor padr√£o √© `8080`.
- **`DATABASE_HOST`:** Endere√ßo do servidor onde o banco de dados PostgreSQL est√° hospedado.
- **`DATABASE_NAME`:** Nome do banco de dados PostgreSQL que a aplica√ß√£o utilizar√°.
- **`DATABASE_PASSWORD`:** Senha do usu√°rio do banco de dados PostgreSQL. Certifique-se de definir uma senha segura.
- **`DATABASE_PORT`:** Porta utilizada para conectar ao banco de dados PostgreSQL. O valor padr√£o √© `5432`.
- **`DATABASE_USER`:** Usu√°rio do banco de dados PostgreSQL. O valor padr√£o √© `"postgres"`.
- **`PGADMIN_DEFAULT_EMAIL`:** E-mail padr√£o para acesso ao PGAdmin.
- **`PGADMIN_DEFAULT_PASSWORD`:** Senha padr√£o para o usu√°rio do PGAdmin.
- **`PGADMIN_DEFAULT_PORT`:** Porta onde o PGAdmin ser√° acessado. O valor padr√£o √© `8081`.

> [!TIP]
> Voc√™ pode definir essas vari√°veis de ambiente em um arquivo `.env` na raiz do projeto ou configur√°-las diretamente no ambiente de execu√ß√£o, conforme suas prefer√™ncias e os recursos dispon√≠veis no ambiente utilizado. Abaixo um exemplo de arquivo `.env`:
```dotenv
API_SERVER_HOST="localhost"
API_SERVER_PORT=8080
DATABASE_HOST="localhost"
DATABASE_NAME="wsrs"
DATABASE_PASSWORD="123456789"
DATABASE_PORT=5432
DATABASE_USER="postgres"
PGADMIN_DEFAULT_EMAIL="admin@email.com"
PGADMIN_DEFAULT_PASSWORD="password"
PGADMIN_DEFAULT_PORT=8081
```
3. **Subindo o banco de dados PostgreSQL em um container Docker:** Navegue at√© o diret√≥rio raiz do projeto e execute o comando:
   ```
   docker compose up
   ```
4. **Cria√ß√£o das tabelas do banco de dados:** Execute as migra√ß√µes do banco utlizando a ferramenta Tern:
   ```
   go run ./cmd/tools/terndotenv/main.go
   ```
> [!NOTE]
> **Acesso ao Banco de Dados:** O banco pode ser acessado utilizando o **PGAdmin** em `http://{DATABASE_HOST}:{PGADMIN_DEFAULT_PORT}`, por exemplo `http://localhost:8081` caso sejam utilizados os valores exemplo no arquivo `.env`. Utilize as credenciais de acesso definidas no arquivo `.env`.

5. **Execu√ß√£o da API:** Inicie o servidor da API usando o comando:

   ```
   go run ./cmd/wsrs/main.go
   ```
 **Utiliza√ß√£o da API:** A API estar√° dispon√≠vel em `http://{API_SERVER_HOST}:{API_SERVER_PORT}`, por exemplo `http://localhost:5432` caso sejam utilizados os valores exemplo no arquivo `.env`. Voc√™ pode enviar requisi√ß√µes HTTP para as rotas especificadas abaixo.

## ‚öôÔ∏è Utiliza√ß√£o da API

#### Esta API oferece diversos endpoints para interagir com *Rooms* e *Messages*.

> [!NOTE]
> Substitua `<baseUrl>` pelo endpoint que voc√™ est√° tentando acessar. Por exemplo, ao usar `curl`, o comando seria algo como `curl <baseUrl>/api/rooms`.

### Rotas para Salas

| M√©todo  | Endpoint              | Descri√ß√£o                             | Exemplo com `curl`                                     |
| ------- | ----------------------| ------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `POST`  | `/api/rooms`          | Cria uma nova sala.                   | `curl -X POST <baseUrl>/api/rooms -H "Content-Type: application/json" -d '{"theme": "Nome Sala"}'` |
| `GET`   | `/api/rooms`          | Lista todas as salas.                 | `curl <baseUrl>/api/rooms`                             |
| `GET`   | `/api/rooms/:room_id` | Obt√©m detalhes de uma sala espec√≠fica.| `curl <baseUrl>/api/rooms/123`                         |

### Rotas para Mensagens em Salas

| M√©todo  | Endpoint                                          | Descri√ß√£o                                              |
| ------- | ------------------------------------------------- | ------------------------------------------------------ |
| `POST`  | `/api/rooms/:room_id/messages`                    | Cria uma nova mensagem em uma sala espec√≠fica.         |
| `GET`   | `/api/rooms/:room_id/messages`                    | Lista todas as mensagens de uma sala espec√≠fica.       |
| `GET`   | `/api/rooms/:room_id/messages/:message_id`        | Obt√©m detalhes de uma mensagem espec√≠fica em uma sala. |
| `PATCH` | `/api/rooms/:room_id/messages/:message_id/react`  | Adiciona uma rea√ß√£o a uma mensagem espec√≠fica.         |
| `DELETE`| `/api/rooms/:room_id/messages/:message_id/react`  | Remove uma rea√ß√£o de uma mensagem espec√≠fica.          |
| `PATCH` | `/api/rooms/:room_id/messages/:message_id/answer` | Marca uma mensagem como respondida.                    |

### Rota para Inscri√ß√£o em Salas (WebSocket)

| M√©todo  | Endpoint                      | Descri√ß√£o                                                                  |
| ------- | ----------------------------- | ---------------------------------------------------------------------------|
| `GET`   | `/subscribe/:room_id`         | Inicia uma conex√£o WebSocket para que o cliente possa se inscrever e receber notifica√ß√µes em uma sala espec√≠fica.|

> Lembre-se de substituir `:room_id` e `:message_id` pelos IDs correspondentes nas rotas que exigem esses par√¢metros.

## üîß Instala√ß√£o e Uso - WEB (frontend)

1. **Clonagem do reposit√≥rio:** Clone este reposit√≥rio para o seu ambiente local usando o comando:
   ```
   git clone https://github.com/prpires66/tech-go-react.git
   ```
2. **Instala√ß√£o de depend√™ncias:** Navegue at√© o diret√≥rio do projeto e instale as depend√™ncias usando o comando:

```
npm install --legacy-peer-deps
```
3. **Configura√ß√£o do ambiente:** Antes de executar a aplica√ß√£o, certifique-se de configurar as seguintes vari√°veis de ambiente:

- **`VITE_APP_API_URL`:** URL do endpoint da API (Back-end).

> [!TIP]
> Voc√™ pode definir essas vari√°veis de ambiente em um arquivo `.env` na raiz do projeto ou configur√°-las diretamente no ambiente de execu√ß√£o, dependendo das suas prefer√™ncias e ambiente de desenvolvimento. Abaixo um exemplo de arquivo `.env`:

```dotenv
VITE_APP_API_URL="http://localhost:8080"
```
4. **Execu√ß√£o da Aplica√ß√£o:** Inicie o servidor usando o comando:

```
npm run dev
```

5. **Utiliza√ß√£o da API:** A API estar√° dispon√≠vel em `http://localhost:5173` por padr√£o, para alterar modifique o arquivo `vite.config.ts` alterando `host` e `port`. 


```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  server: {
    host: "localhost",
    port: 5173
  }
})
```

> [!IMPORTANT]
> Esta aplica√ß√£o requer uma conex√£o ativa com a API para funcionar. Certifique-se de que esteja sendo executada e dispon√≠vel.

## üìÑ Licen√ßa
![License: MIT](https://img.shields.io/github/license/prpires66/nlw-esports?style=for-the-badge)

Copyright ¬© 2024 [Paulo Pires](https://github.com/prpires66).

Este projeto est√° sob a licen√ßa MIT. Consulte o arquivo [LICENSE](https://github.com/prpires66/tech-go-react/blob/main/LICENSE) para obter mais detalhes.

## üôè Agradecimentos

> - Agrade√ßo √† **[Rocketseat](https://app.rocketseat.com.br/)** pelo apoio cont√≠nuo e pela oportunidade de aprendizado atrav√©s de sua plataforma de educa√ß√£o continuada.
> - Contribui√ß√µes e sugest√µes s√£o sempre bem-vindas.
> - Muito obrigado! :rocket: :blue_heart:
